{"version":3,"file":"calcite-web.js","sources":["../../lib/js/helpers/classy.js","../../lib/js/helpers/dom.js","../../lib/js/helpers/aria.js","../../lib/js/helpers/event.js","../../lib/js/helpers/bus.js","../../lib/js/patterns/accordion.js","../../lib/js/patterns/dropdown.js","../../lib/js/patterns/drawers.js","../../lib/js/patterns/expander.js","../../lib/js/patterns/filter-dropdown.js","../../lib/js/patterns/modal.js","../../lib/js/patterns/search.js","../../lib/js/patterns/select-nav.js","../../lib/js/helpers/guid.js","../../lib/js/patterns/sticky.js","../../lib/js/patterns/tabs.js","../../lib/js/patterns/third-nav.js","../../lib/js/calcite-web.js"],"sourcesContent":["// Cool Helpers\nimport * as dom from './dom';\n\n// ┌────────────────────┐\n// │ Class Manipulation │\n// └────────────────────┘\n\n// check if an element has a specific class\nexport function has (domNode, className) {\n  var elementClass = ' ' + domNode.className + ' ';\n  return elementClass.indexOf(' ' + className + ' ') !== -1;\n}\n\n// add one or more classes to an element\nexport function add (domNode, classes) {\n  classes.split(' ').forEach(function (c) {\n    if (!has(domNode, c)) {\n      domNode.className += ' ' + c;\n    }\n  });\n}\n\n// remove one or more classes from an element\nexport function remove (domNode, classes) {\n  var elementClass = ' ' + domNode.className + ' ';\n  classes.split(' ').forEach(function (c) {\n    elementClass = elementClass.replace(' ' + c + ' ', ' ');\n  });\n  domNode.className = elementClass.trim();\n}\n\n// if domNode has the class, remove it, else add it\nexport function toggle (domNode, className) {\n  if (has(domNode, className)) {\n    remove(domNode, className);\n  } else {\n    add(domNode, className);\n  }\n}\n\n// remove 'is-active' class from every element in an array\nexport function removeActive (array) {\n  array = dom.nodeListToArray(array);\n  array.forEach(function (item) {\n    remove(item, 'is-active');\n  });\n}\n\n// add 'is-active' class from every element in an array\nexport function addActive (array) {\n  array = dom.nodeListToArray(array);\n  array.forEach(function (item) {\n    add(item, 'is-active');\n  });\n}\n\n// remove 'is-active' class from every element in an array, add to one element\nexport function toggleActive (array, el) {\n  removeActive(array);\n  add(el, 'is-active');\n}\n","import * as classy from './classy';\n\n// ┌─────┐\n// │ DOM │\n// └─────┘\n// Handles dom nodes\n\n// returns closest element up the DOM tree matching a given class\nexport function closest (className, context) {\n  var current;\n  for (current = context; current; current = current.parentNode) {\n    if (current.nodeType === 1 && classy.has(current, className)) {\n      break;\n    }\n  }\n  return current;\n}\n\n// turn a domNodeList into an array\nexport function nodeListToArray (domNodeList) {\n  if (Array.isArray(domNodeList)) {\n    return domNodeList;\n  } else {\n    return Array.prototype.slice.call(domNodeList);\n  }\n}\n\n// Finds all the elements inside a node, or the document and returns them as an array\nexport function findElements (query, domNode) {\n  var context = domNode || document;\n  var elements = context.querySelectorAll(query);\n  return nodeListToArray(elements);\n}\n\nexport function filterArray (value, array) {\n  var results = array.filter(function (item) {\n    var val = value.toLowerCase();\n    var t = item.innerHTML.toLowerCase();\n    return t.indexOf(val) !== -1;\n  });\n  return results;\n}\n","// ┌────────────────┐\n// │ Aria Adjusters │\n// └────────────────┘\n// utilities to help manage aria properties\n\n// toggles `aria-hidden` on a domNode\nexport function toggleHidden (array) {\n  array.forEach(function (node) {\n    var hidden = node.getAttribute('aria-hidden');\n    if (hidden !== 'true') {\n      node.setAttribute('aria-hidden', true);\n    } else {\n      node.removeAttribute('aria-hidden');\n    }\n  });\n}\n\n// adds `aria-hidden` on a domNode\nexport function hide (array) {\n  array.forEach(function (node) {\n    node.setAttribute('aria-hidden', true);\n  });\n}\n\n// removes `aria-hidden` on a domNode\nexport function show (array) {\n  array.forEach(function (node) {\n    node.removeAttribute('aria-hidden');\n  });\n}\n\nexport function toggleExpanded (domNode) {\n  var isExpanded = domNode.getAttribute('aria-expanded');\n  if (isExpanded) {\n    domNode.removeAttribute('aria-expanded');\n  } else {\n    domNode.setAttribute('aria-expanded', 'true');\n  }\n}\n","// ┌──────────────────────┐\n// │ DOM Event Management │\n// └──────────────────────┘\n\nvar boundEvents = {\n  dropdowns: []\n};\n\nexport { boundEvents };\n\n// returns standard interaction event, later will add touch support\nexport function click () {\n  return 'click';\n}\n\n// add a callback function to an event on a DOM node\nexport function add (domNode, e, fn) {\n  if (domNode.addEventListener) {\n    return domNode.addEventListener(e, fn, false);\n  } else if (domNode.attachEvent) {\n    return domNode.attachEvent('on' + e, fn);\n  }\n}\n\n// remove a specific function binding from a DOM node event\nexport function remove (domNode, e, fn) {\n  if (domNode.removeEventListener) {\n    return domNode.removeEventListener(e, fn, false);\n  } else if (domNode.detachEvent) {\n    return domNode.detachEvent('on' + e, fn);\n  }\n}\n\n// get the target element of an event\nexport function target (e) {\n  return e.target || e.srcElement;\n}\n\n// prevent default behavior of an event\nexport function preventDefault (e) {\n  if (e.preventDefault) {\n    return e.preventDefault();\n  } else if (e.returnValue) {\n    e.returnValue = false;\n  }\n}\n\n// stop and event from bubbling up the DOM tree\nexport function stopPropagation (e) {\n  e = e || window.event;\n  if (e.stopPropagation) {\n    return e.stopPropagation();\n  }\n  if (e.cancelBubble) {\n    e.cancelBubble = true;\n  }\n}\n\n// return a function that will only execute\n// once it is NOT called for delay milliseconds\nexport function throttle (fn, time, context) {\n  var lock, args, wrapperFn, later;\n\n  later = function () {\n    // reset lock and call if queued\n    lock = false;\n    if (args) {\n      wrapperFn.apply(context, args);\n      args = false;\n    }\n  };\n\n  wrapperFn = function () {\n    if (lock) {\n      // called too soon, queue to call later\n      args = arguments;\n    } else {\n      // call and lock until later\n      fn.apply(context, arguments);\n      setTimeout(later, time);\n      lock = true;\n    }\n  };\n\n  return wrapperFn;\n}\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    }\n\n    listener._ = callback;\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback) {\n          liveEvents.push(evts[i]);\n        }\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n    return this;\n  }\n};\n\nvar bus = new E();\nexport default bus;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as aria from '../helpers/aria';\nimport * as event from '../helpers/event';\n\nimport bus from '../helpers/bus';\n// ┌───────────┐\n// │ Accordion │\n// └───────────┘\n// collapsible accordion list\n// Listens to a 'accordion:bind' Obj.node = DOMNode\n// Emits and listens on the 'accordion:open' channel. Obj.node = DOMNode\n// Emits and listens to on the 'accorion:close' channel. Obj.node = DOMNode\n// Emitting a modal id toggle that modals state.\n// Emitting false or null closes all modals.\n\nfunction accordion () {\n  var accordions = dom.findElements('.js-accordion');\n  bus.on('accordion:bind', bindAccordions);\n  bus.on('accordion:toggle', handleToggle);\n\n  function bindAccordions (options) {\n    if (!options) {\n      accordions.forEach(function (accordion) {\n        setUpAccordion(accordion);\n      });\n    } else {\n      setUpAccordion(options.node);\n    }\n  }\n\n  function setUpAccordion (accordion) {\n    accordion.setAttribute('aria-live', 'polite');\n    accordion.setAttribute('role', 'tablist');\n    dom.nodeListToArray(accordion.children).forEach(function (section) {\n      var sectionTitle = section.querySelector('.accordion-title');\n      sectionTitle.setAttribute('role', 'tab');\n      sectionTitle.setAttribute('tabindex', '0');\n      if (classy.has(section, 'is-active')) {\n        section.setAttribute('aria-expanded', 'true');\n      }\n      event.add(sectionTitle, event.click(), toggleClick);\n      event.add(section, 'keyup', function (e) {\n        if (e.keyCode === 13) {\n          toggleClick(e);\n        }\n      });\n    });\n  }\n\n  function toggleClick (e) {\n    event.stopPropagation(e);\n    var parent = dom.closest('accordion-section', event.target(e));\n    bus.emit('accordion:toggle', {node: parent});\n  }\n\n  function handleToggle (options) {\n    classy.toggle(options.node, 'is-active');\n    aria.toggleExpanded(options.node);\n  }\n\n  bus.emit('accordion:bind');\n}\n\nexport default accordion;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as event from '../helpers/event';\nimport bus from '../helpers/bus';\n\n// ┌──────────┐\n// │ Dropdown │\n// └──────────┘\n// show and hide dropdown menus\nfunction closeAllDropdowns (options) {\n  event.remove(document.body, event.click(), closeAllDropdowns);\n  dom.findElements('.js-dropdown').forEach(function (dropdown) {\n    classy.remove(dropdown, 'is-active');\n  });\n  dom.findElements('.js-dropdown-toggle').forEach(function (toggle) {\n    toggle.setAttribute('aria-expanded', 'false');\n  });\n}\n\nfunction toggleDropdown (options) {\n  if (!options) return;\n  var isOpen = classy.has(options.node, 'is-active');\n  bus.emit('dropdown:close');\n  if (!isOpen) {\n    classy.add(options.node, 'is-active');\n    if (options.target) {\n      options.target.setAttribute('aria-expanded', 'true');\n    }\n  }\n  if (classy.has(options.node, 'is-active')) {\n    event.add(document.body, event.click(), closeAllDropdowns);\n  }\n}\n\nfunction bindDropdowns (options) {\n  // attach the new events\n  var toggles = dom.findElements('.js-dropdown-toggle');\n  toggles.forEach(function (toggle) {\n    // check if the event was already added\n    var eventExists = false;\n    event.boundEvents.dropdowns.forEach(function (e) {\n      if (e.target === toggle && e.event === event.click() && e.fn === toggleClick) {\n        eventExists = true;\n      }\n    });\n    if (!eventExists) {\n      event.boundEvents.dropdowns.push({target: toggle, event: event.click(), fn: toggleClick});\n      event.add(toggle, event.click(), toggleClick);\n    }\n  });\n}\n\nfunction toggleClick (e) {\n  event.preventDefault(e);\n  event.stopPropagation(e);\n  var dropdown = dom.closest('js-dropdown', e.target);\n  bus.emit('dropdown:toggle', {node: dropdown, target: e.target});\n}\n\nfunction addListeners () {\n  bus.on('dropdown:toggle', toggleDropdown);\n  bus.on('dropdown:close', closeAllDropdowns);\n  bus.on('keyboard:escape', closeAllDropdowns);\n  listenersAdded = true;\n}\n\nvar listenersAdded = false;\n\nexport default function dropdown () {\n  // only add the listeners if they haven't been added already\n  if (!listenersAdded) {\n    addListeners();\n  }\n  bindDropdowns();\n}\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as aria from '../helpers/aria';\nimport * as event from '../helpers/event';\nimport bus from '../helpers/bus';\n\n// ┌────────┐\n// │ Drawer │\n// └────────┘\n// show and hide drawers\nfunction drawer () {\n  var wrapper = document.querySelector('.wrapper');\n  var footer = document.querySelector('.footer');\n  var toggles = dom.findElements('.js-drawer-toggle');\n  var drawers = dom.findElements('.js-drawer');\n  var lastOn;\n\n  // Bus events\n  bus.on('drawer:open', openDrawer);\n  bus.on('keyboard:escape', closeDrawer);\n  bus.on('drawer:close', closeDrawer);\n  bus.on('drawer:bind', bindDrawers);\n\n  function openDrawer (options) {\n    bus.emit('drawer:close');\n    var drawer = document.querySelector(`.js-drawer[data-drawer=\"${options.id}\"]`);\n    var right = classy.has(drawer, 'drawer-right');\n    var left = classy.has(drawer, 'drawer-left');\n\n    drawer.setAttribute('tabindex', 0);\n    classy.add(drawer, 'is-active');\n\n    if (right) {\n      classy.add(wrapper, 'drawer-right-is-active');\n    } else if (left) {\n      classy.add(wrapper, 'drawer-left-is-active');\n    }\n\n    aria.hide([wrapper, footer]);\n    event.add(drawer, event.click(), closeClick);\n    event.add(document, 'focusin', fenceDrawer);\n  }\n\n  function closeDrawer (options) {\n    if (!options) {\n      drawers.forEach(function (drawer) {\n        drawer.removeAttribute('tabindex');\n        classy.remove(drawer, 'is-active');\n      });\n    } else {\n      var drawer = document.querySelector(`.js-drawer[data-drawer=\"${options.id}\"]`);\n      drawer.removeAttribute('tabindex');\n      classy.remove(drawer, 'is-active');\n    }\n    classy.remove(wrapper, 'drawer-left-is-active');\n    classy.remove(wrapper, 'drawer-right-is-active');\n    aria.show([wrapper, footer]);\n    event.remove(document, 'focusin', fenceDrawer);\n    if (lastOn) lastOn.focus();\n  }\n\n  function fenceDrawer (e) {\n    if (!dom.closest('js-drawer', e.target)) {\n      drawers.forEach(function (drawer) {\n        if (classy.has(drawer, 'is-active')) {\n          drawer.focus();\n        }\n      });\n    }\n  }\n\n  function bindDrawers (options) {\n    if (!options) {\n      toggles.forEach(function (toggle) {\n        event.add(toggle, event.click(), toggleClick);\n      });\n    } else {\n      event.add(options.node, event.click(), toggleClick);\n    }\n  }\n\n  function closeClick (e) {\n    if (classy.has(e.target, 'js-drawer')) {\n      bus.emit('drawer:close');\n    }\n  }\n\n  function toggleClick (e) {\n    event.preventDefault(e);\n    var drawerId = e.target.getAttribute('data-drawer');\n    bus.emit('drawer:open', {id: drawerId});\n  }\n\n  bus.emit('drawer:bind');\n}\n\nexport default drawer;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as event from '../helpers/event';\n\n// ┌───────────────────┐\n// │ Expanding Section │\n// └───────────────────┘\n// show and hide exanding nav located under topnav\nfunction expander () {\n  var toggles = dom.findElements('.js-expand-toggle');\n  var sections = document.querySelectorAll('.js-expand');\n\n  toggles.forEach(function (toggle) {\n    event.add(toggle, event.click(), function (e) {\n      event.preventDefault(e);\n\n      var sectionId = toggle.getAttribute('data-expand');\n      var section = document.querySelector('.js-expand[data-expand=\"' + sectionId + '\"]');\n      var isOpen = classy.has(section, 'is-active');\n      var shouldClose = classy.has(section, 'is-active');\n\n      classy.toggleActive(sections, section);\n\n      if (isOpen && shouldClose) {\n        classy.remove(section, 'is-active');\n      } else {\n        classy.add(section, 'is-active');\n      }\n    });\n  });\n}\n\nexport default expander;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as event from '../helpers/event';\nimport bus from '../helpers/bus';\n\n// ┌─────────────────┐\n// │ Filter Dropdown │\n// └─────────────────┘\n// Select one or many from a searchable list\n\nfunction filterDropdown () {\n  bus.on('filterDropdown:bind', bindFilterDropdowns);\n  bus.on('filterDropdown:select', toggleItem);\n  bus.on('filterDropdown:select', emitActive);\n  bus.on('filterDropdown:select:remove', removeItem);\n  bus.on('filterDropdown:active', drawActive);\n  bus.on('filterDropdown:active:clear', clearActive);\n  bus.on('filterDropdown:toggle', toggleDropdown);\n  bus.on('filterDropdown:open', openList);\n  bus.on('filterDropdown:close', closeList);\n  bus.on('keyboard:escape', closeList);\n\n  function bindFilterDropdowns () {\n    var dropdowns = dom.findElements('.js-filter-dropdown');\n    dropdowns.forEach(function (dropdown) {\n      var dropdownId = dropdown.getAttribute('data-filter-dropdown');\n      var input = dropdown.querySelector('.filter-dropdown-input');\n      event.add(input, 'focus', inputFocus);\n\n      var opens = dropdown.querySelectorAll('.js-filter-dropdown-open');\n      for (let i = 0; i < opens.length; i++) {\n        var open = opens[i];\n        open.setAttribute('data-id', dropdownId);\n        event.add(open, event.click(), toggleClick);\n      }\n      var closes = dropdown.querySelectorAll('.js-filter-dropdown-close');\n      for (let i = 0; i < closes.length; i++) {\n        var close = closes[i];\n        close.setAttribute('data-id', dropdownId);\n        event.add(close, event.click(), toggleClick);\n      }\n\n      var items = dropdown.querySelectorAll('.filter-dropdown-link');\n      for (let i = 0; i < items.length; i++) {\n        var item = items[i];\n        item.setAttribute('data-item-id', i);\n        event.add(item, event.click(), itemClick);\n      }\n\n      event.add(input, 'keyup', function (e) {\n        var itemsArray = dom.nodeListToArray(items);\n        itemsArray.forEach(function (item) {\n          classy.add(item, 'hide');\n        });\n\n        dom.filterArray(input.value, itemsArray).forEach(function (item) {\n          classy.remove(item, 'hide');\n        });\n      });\n    });\n  }\n\n  function getOptions (e) {\n    var parent = dom.closest('js-filter-dropdown', e.target);\n    return {\n      parent: parent,\n      id: parent.getAttribute('data-filter-dropdown'),\n      item: e.target\n    };\n  }\n\n  function inputFocus (e) {\n    event.stopPropagation(e);\n    var options = getOptions(e);\n    bus.emit('filterDropdown:input:focus', options);\n  }\n\n  function itemClick (e) {\n    event.preventDefault(e);\n    event.stopPropagation(e);\n    var options = getOptions(e);\n    bus.emit('filterDropdown:select', options);\n  }\n\n  function toggleClick (e) {\n    e.preventDefault();\n    var options = getOptions(e);\n    classy.toggle(e.target, 'is-active');\n    bus.emit('filterDropdown:toggle', options);\n  }\n\n  function toggleDropdown (options) {\n    var list = options.parent.querySelector('.filter-dropdown-list');\n    if (classy.has(list, 'is-active')) {\n      bus.emit('filterDropdown:close', options);\n    } else {\n      bus.emit('filterDropdown:open', options);\n    }\n  }\n\n  function toggleItem (options) {\n    classy.toggle(options.item, 'is-active');\n  }\n\n  function removeItem (options) {\n    var activeItems = options.parent.querySelectorAll('.filter-dropdown-link.is-active');\n    var toRemove = activeItems[options.i];\n    classy.remove(toRemove, 'is-active');\n\n    var newActiveItems = options.parent.querySelectorAll('.filter-dropdown-link.is-active');\n\n    var emit = {\n      parent: options.parent,\n      id: options.id,\n      active: newActiveItems\n    };\n    bus.emit('filterDropdown:active', emit);\n  }\n\n  function openList (options) {\n    closeList();\n    var list = options.parent.querySelector('.filter-dropdown-list');\n    classy.add(list, 'is-active');\n\n    var closes = dom.findElements('.js-filter-dropdown-close', options.parent);\n    var opens = dom.findElements('.js-filter-dropdown-open', options.parent);\n    opens.forEach(el => classy.remove(el, 'is-active'));\n    closes.forEach(el => classy.add(el, 'is-active'));\n  }\n\n  function closeList (e) {\n    var lists = document.querySelectorAll('.filter-dropdown-list');\n    classy.removeActive(lists);\n\n    var opens = dom.findElements('.js-filter-dropdown-open');\n    var closes = dom.findElements('.js-filter-dropdown-close');\n    opens.forEach(el => classy.add(el, 'is-active'));\n    closes.forEach(el => classy.remove(el, 'is-active'));\n  }\n\n  function emitActive (options) {\n    var activeItems = options.parent.querySelectorAll('.filter-dropdown-link.is-active');\n    var emit = {\n      parent: options.parent,\n      id: options.id,\n      active: activeItems\n    };\n    bus.emit('filterDropdown:active', emit);\n  }\n\n  function drawActive (options) {\n    bus.emit('filterDropdown:active:clear', options);\n\n    var placeholder = options.parent.querySelector('.js-flilter-dropdown-no-filters');\n    if (options.active.length > 0) {\n      classy.add(placeholder, 'hide');\n    } else {\n      classy.remove(placeholder, 'hide');\n    }\n\n    for (let i = 0; i < options.active.length; i++) {\n      var item = options.active[i];\n      var template = `<span class=\"filter-dropdown-active\">${item.innerHTML}<a class=\"filter-dropdown-remove\" href=\"#\" data-item-id='${i}'></a></span>`;\n      options.parent.insertAdjacentHTML('beforeend', template);\n      var remove = options.parent.querySelector(`.filter-dropdown-remove[data-item-id=\"${i}\"]`);\n      event.add(remove, event.click(), removeClick);\n    }\n  }\n\n  function removeClick (e) {\n    e.preventDefault();\n    var options = getOptions(e);\n    options.i = e.target.getAttribute('data-item-id');\n    bus.emit('filterDropdown:select:remove', options);\n  }\n\n  function clearActive (options) {\n    var current = options.parent.querySelectorAll('.filter-dropdown-active');\n    for (let i = 0; i < current.length; i++) {\n      options.parent.removeChild(current[i]);\n    }\n  }\n\n  bus.emit('filterDropdown:bind');\n}\n\nexport default filterDropdown;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as aria from '../helpers/aria';\nimport * as event from '../helpers/event';\nimport bus from '../helpers/bus';\n\n// ┌───────┐\n// │ Modal │\n// └───────┘\n// show and hide modal dialogues\n// Listens to a 'modal:bind' optionally takes a node\n// Emits and listens on the 'modal:open' channel. Takes a data-modal attr\n// Emits and listens to on the 'modal:close' channel. Optionally takes a data-modal\n// Emitting a modal id toggle that modals state.\n// Emitting false or null closes all modals.\n\nfunction modal () {\n  // Cool nodes\n  var wrapper = document.querySelector('.wrapper');\n  var footer = document.querySelector('.footer');\n  var toggles = dom.findElements('.js-modal-toggle');\n  var modals = dom.findElements('.js-modal');\n\n  // Bus events\n  bus.on('modal:open', openModal);\n  bus.on('keyboard:escape', closeModal);\n  bus.on('modal:close', closeModal);\n  bus.on('modal:bind', bindModals);\n\n  function openModal (modalId) {\n    bus.emit('modal:close');\n    if (!modalId) return;\n    var modal = document.querySelector(`.js-modal[data-modal=\"${modalId}\"]`);\n    modal.removeAttribute('tabindex');\n    event.add(document, 'focusin', fenceModal);\n    classy.add(modal, 'is-active');\n    aria.hide([wrapper, footer]);\n    modal.focus();\n  }\n\n  function closeModal (modalId) {\n    if (!modalId) return classy.removeActive(modals);\n    var modal = document.querySelector(`.js-modal[data-modal=\"${modalId}\"]`);\n    classy.remove(modal, 'is-active');\n    modal.setAttribute('tabindex', 0);\n    event.remove(document, 'focusin', fenceModal);\n    aria.show([wrapper, footer]);\n  }\n\n  function bindModals (node) {\n    if (!node) {\n      toggles.forEach(function (toggle) {\n        event.add(toggle, event.click(), toggleClick);\n      });\n    } else {\n      event.add(node, event.click(), toggleClick);\n    }\n  }\n\n  function fenceModal (e) {\n    if (!dom.closest('js-modal', e.target)) {\n      modals.forEach(function (modal) {\n        if (classy.has(modal, 'is-active')) {\n          modal.focus();\n        }\n      });\n    }\n  }\n\n  function toggleClick (e) {\n    event.preventDefault(e);\n    var modalId = e.target.dataset.modal;\n    bus.emit('modal:open', modalId);\n  }\n\n  bus.emit('modal:bind');\n}\n\nexport default modal;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as event from '../helpers/event';\n\n// ┌────────┐\n// │ Search │\n// └────────┘\n// Expanding search bar that lives in the top nav.\nfunction search () {\n  var searchForms = dom.findElements('.js-site-search');\n\n  function toggleForm (e) {\n    var searchContainer = dom.closest('js-site-search', e.target);\n    var isOpen = classy.has(searchContainer, 'is-active');\n\n    if (isOpen) {\n      classy.remove(searchContainer, 'is-active');\n      e.target.value = '';\n    } else {\n      classy.add(searchContainer, 'is-active');\n    }\n  }\n\n  searchForms.forEach(function (search) {\n    event.add(search, 'focusin', toggleForm);\n    event.add(search, 'focusout', toggleForm);\n  });\n}\n\nexport default search;\n","import * as dom from '../helpers/dom';\nimport * as event from '../helpers/event';\nimport bus from '../helpers/bus';\n\nfunction selectNav () {\n  bus.on('selectnav:bind', bindSelects);\n\n  var selects = dom.findElements('.js-select-nav');\n\n  function bindSelects () {\n    selects.forEach(function (select) {\n      event.add(select, 'change', selectPage);\n    });\n  }\n\n  function selectPage (e) {\n    window.location.assign(e.currentTarget.value);\n  }\n\n  bus.emit('selectnav:bind');\n}\n\nexport default selectNav;\n","var validator = new RegExp('^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$', 'i');\n\nfunction gen (count) {\n  var out = '';\n  for (var i = 0; i < count; i++) {\n    out += (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n  }\n  return out;\n}\n\nfunction Guid (guid) {\n  if (!guid) throw new TypeError('Invalid argument `value` has no value.');\n  this.value = Guid.EMPTY;\n  if (guid && guid instanceof Guid) {\n    this.value = guid.toString();\n  } else if (guid && Object.prototype.toString.call(guid) === '[object String]' && Guid.isGuid(guid)) {\n    this.value = guid;\n  }\n  this.equals = function (other) {\n    return Guid.isGuid(other) && this.value === other;\n  };\n  this.isEmpty = function () {\n    return this.value === Guid.EMPTY;\n  };\n  this.toString = function () {\n    return this.value;\n  };\n  this.toJSON = function () {\n    return this.value;\n  };\n}\n\nGuid.EMPTY = '00000000-0000-0000-0000-000000000000';\nGuid.isGuid = function (value) {\n  return value && (value instanceof Guid || validator.test(value.toString()));\n};\nGuid.create = function () {\n  return new Guid([gen(2), gen(1), gen(1), gen(1), gen(3)].join('-'));\n};\nGuid.raw = function () {\n  return [gen(2), gen(1), gen(1), gen(1), gen(3)].join('-');\n};\n\nexport default Guid;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport bus from '../helpers/bus';\nimport Guid from '../helpers/guid';\n// ┌────────┐\n// │ Sticky │\n// └────────┘\n// sticks things to the window\n\nfunction sticky () {\n  bus.on('scrolling:at', scrollHandler);\n  bus.on('sticky:stick', stickItem);\n  bus.on('sticky:unstick', unstickItem);\n\n  var elements = dom.findElements('.js-sticky');\n  var stickies = elements.map(function (el) {\n    var offset = el.offsetTop;\n    var dataTop = el.getAttribute('data-top') || 0;\n    el.style.top = dataTop + 'px';\n    var hasId = el.getAttribute('data-sticky-id');\n    if (!hasId) createShim(el);\n    return {\n      top: offset - parseInt(dataTop, 0),\n      element: el\n    };\n  });\n\n  function createShim (el) {\n    var guid = Guid.raw();\n    el.setAttribute('data-sticky-id', guid);\n    var parent = el.parentNode;\n    var shim = el.cloneNode('deep');\n    classy.add(shim, 'js-shim');\n    classy.remove(shim, 'js-sticky');\n    shim.setAttribute('data-sticky-id', guid);\n    shim.style.visibility = 'hidden';\n    shim.style.display = 'none';\n    parent.insertBefore(shim, el);\n  }\n\n  function stickItem (item) {\n    var id = item.element.getAttribute('data-sticky-id');\n    var shim = document.querySelector(`.js-shim[data-sticky-id=\"${id}\"]`);\n    if (id && shim) {\n      classy.add(item.element, 'is-sticky');\n      shim.style.display = '';\n    }\n  }\n\n  function unstickItem (item) {\n    var id = item.element.getAttribute('data-sticky-id');\n    var shim = document.querySelector(`.js-shim[data-sticky-id=\"${id}\"]`);\n    if (id && shim) {\n      classy.remove(item.element, 'is-sticky');\n      shim.style.display = 'none';\n    }\n  }\n\n  function scrollHandler (pageYOffset) {\n    stickies.forEach(function (item) {\n      var referenceElement = item.element;\n      if (classy.has(item.element, 'is-sticky')) {\n        var id = item.element.getAttribute('data-sticky-id');\n        referenceElement = document.querySelector(`.js-shim[data-sticky-id=\"${id}\"]`);\n      }\n\n      if (referenceElement) {\n        var dataTop = referenceElement.getAttribute('data-top') || 0;\n        item.top = referenceElement.offsetTop - parseInt(dataTop, 0);\n      }\n\n      if (item.top < pageYOffset) {\n        bus.emit('sticky:stick', item);\n      } else {\n        bus.emit('sticky:unstick', item);\n      }\n    });\n  }\n}\n\nexport default sticky;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as event from '../helpers/event';\nimport Guid from '../helpers/guid';\nimport bus from '../helpers/bus';\n\n// ┌──────┐\n// │ Tabs │\n// └──────┘\n// tabbed content pane\nfunction tabs () {\n  bus.on('tabs:bind', bindTabs);\n  bus.on('tabs:active', setTab);\n\n  function bindTabs () {\n    var tabs = dom.findElements('.js-tab');\n    var tabGroups = dom.findElements('.js-tab-group');\n    var tabSections = dom.findElements('.js-tab-section');\n\n    // set max width for each tab\n    tabGroups.forEach(function (tab) {\n      tab.setAttribute('aria-live', 'polite');\n      groupId(tab);\n      tab.children[0].setAttribute('role', 'tablist');\n      var tabsInGroup = tab.querySelectorAll('.js-tab');\n      var percent = 100 / tabsInGroup.length;\n      for (var i = 0; i < tabsInGroup.length; i++) {\n        tabsInGroup[i].style.maxWidth = percent + '%';\n      }\n    });\n\n    tabs.forEach(function (tab) {\n      tab.setAttribute('aria-expanded', 'false');\n      tab.setAttribute('role', 'tab');\n      tab.setAttribute('tabindex', '0');\n      event.add(tab, event.click(), clickTab);\n      event.add(tab, 'keyup', enterTab);\n    });\n\n    tabSections.forEach(function (section) {\n      section.setAttribute('role', 'tabpanel');\n      var isOpen = classy.has(section, 'is-active');\n      if (isOpen) {\n        section.setAttribute('aria-expanded', true);\n      } else {\n        section.setAttribute('aria-expanded', false);\n      }\n    });\n  }\n\n  function groupId (tab) {\n    var hasId = tab.getAttribute('data-tab');\n    if (hasId) {\n      return hasId;\n    } else {\n      var id = Guid.raw();\n      tab.setAttribute('data-tab', id);\n      return id;\n    }\n  }\n\n  function setTab (options) {\n    var group = options.parent;\n    var tabs = dom.nodeListToArray(group.querySelectorAll('.js-tab'));\n    var activeTab = options.active;\n\n    var sections = dom.nodeListToArray(group.querySelectorAll('.js-tab-section'));\n    var index = tabs.indexOf(activeTab);\n    var activeSection = sections[index];\n\n    tabs.forEach(function (t) {\n      t.setAttribute('aria-expanded', false);\n    });\n    activeTab.setAttribute('aria-expanded', true);\n    classy.toggleActive(tabs, activeTab);\n\n    sections.forEach(function (s) {\n      s.setAttribute('aria-expanded', false);\n    });\n    activeSection.setAttribute('aria-expanded', true);\n    classy.toggleActive(sections, activeSection);\n  }\n\n  function getOptions (e) {\n    var tab = e.target;\n    var group = dom.closest('js-tab-group', tab);\n    var id = groupId(group);\n    return {\n      parent: group,\n      id: id,\n      active: tab\n    };\n  }\n\n  function clickTab (e) {\n    e.preventDefault();\n    var options = getOptions(e);\n    bus.emit('tabs:active', options);\n  }\n\n  function enterTab (e) {\n    var options = getOptions(e);\n    if (e.keycode === 13) {\n      bus.emit('tabs:active', options);\n    }\n  }\n\n  bus.emit('tabs:bind');\n}\n\nexport default tabs;\n","// Cool Helpers\nimport * as dom from '../helpers/dom';\nimport * as classy from '../helpers/classy';\nimport * as event from '../helpers/event';\n\n// ┌───────────┐\n// │ Third Nav │\n// └───────────┘\n// sticks things to the window\n\nfunction thirdNav () {\n  var nav = dom.findElements('.js-nav-overflow')[0];\n  var leftBtn = dom.findElements('.js-overflow-left')[0];\n  var rightBtn = dom.findElements('.js-overflow-right')[0];\n\n  function scroll (distance) {\n    nav.scrollLeft += distance;\n  }\n\n  function resize () {\n    classy.remove(leftBtn, 'is-active');\n    classy.remove(rightBtn, 'is-active');\n    if (nav.scrollLeft > 0) classy.add(leftBtn, 'is-active');\n    if (nav.scrollLeft + nav.clientWidth + 5 < nav.scrollWidth) classy.add(rightBtn, 'is-active');\n  }\n\n  if (nav) {\n    event.add(leftBtn, event.click(), scroll.bind(null, -40));\n    event.add(rightBtn, event.click(), scroll.bind(null, 40));\n    event.add(nav, 'scroll', resize);\n    event.add(window, 'resize', resize);\n    resize();\n  }\n}\n\nexport default thirdNav;\n","// ┌─────────┐\n// │ Helpers │\n// └─────────┘\n// utilities for working with dom, and removing browser inconsistencies\n// with support back to IE9+\nimport * as dom from './helpers/dom';\nimport * as classy from './helpers/classy';\nimport * as aria from './helpers/aria';\nimport * as event from './helpers/event';\n\n// ┌─────┐\n// │ Bus │\n// └─────┘\n// all event passing takes place over a bus\n// this is just an instance of tinyEmitter\nimport bus from './helpers/bus';\n\n// ┌─────────────────┐\n// │ Import Patterns │\n// └─────────────────┘\n// import all interactive patterns\nimport accordion from './patterns/accordion';\nimport dropdown from './patterns/dropdown';\nimport drawers from './patterns/drawers';\nimport expander from './patterns/expander';\nimport filterDropdown from './patterns/filter-dropdown';\nimport modal from './patterns/modal';\nimport search from './patterns/search';\nimport selectNav from './patterns/select-nav';\nimport sticky from './patterns/sticky';\nimport tabs from './patterns/tabs';\nimport thirdNav from './patterns/third-nav';\n\n// ┌──────────────────────┐\n// │ Emit Keyboard Events │\n// └──────────────────────┘\n// emit presses of escape and return keys\nevent.add(document, 'keyup', translateKeypress);\nfunction translateKeypress (e) {\n  if (e.keyCode === 27) {\n    bus.emit('keyboard:escape');\n  } else if (e.keyCode === 13) {\n    bus.emit('keyboard:return');\n  } else if (e.keyCode === 32) {\n    bus.emit('keyboard:space');\n  } else if (e.keyCode === 38) {\n    bus.emit('keyboard:arrow:up');\n  } else if (e.keyCode === 40) {\n    bus.emit('keyboard:arrow:down');\n  } else if (e.keyCode === 37) {\n    bus.emit('keyboard:arrow:left');\n  } else if (e.keyCode === 39) {\n    bus.emit('keyboard:arrow:right');\n  }\n}\n\n// ┌────────────────────┐\n// │ Emit Scroll Events │\n// └────────────────────┘\n// throttled for performance\nevent.add(window, 'scroll', event.throttle(isScrolling, 100));\nfunction isScrolling () {\n  bus.emit('scrolling:at', window.pageYOffset);\n}\n\n// ┌────────────────────┐\n// │ Initialize Calcite │\n// └────────────────────┘\n// start up Calcite and attach all the patterns\n// optionally pass an array of patterns you'd like to watch\nfunction init () {\n  accordion();\n  dropdown();\n  drawers();\n  expander();\n  filterDropdown();\n  modal();\n  search();\n  selectNav();\n  sticky();\n  tabs();\n  thirdNav();\n}\n\n// ┌────────────┐\n// │ Public API │\n// └────────────┘\n// define all public api methods\nexport default {\n  version: '1.0.0.0-beta.25',\n  click: event.click,\n  addEvent: event.add,\n  removeEvent: event.remove,\n  eventTarget: event.target,\n  preventDefault: event.preventDefault,\n  stopPropagation: event.stopPropagation,\n  throttle: event.throttle,\n  hasClass: classy.has,\n  addClass: classy.add,\n  removeClass: classy.remove,\n  toggleClass: classy.toggle,\n  removeActive: classy.removeActive,\n  addActive: classy.addActive,\n  toggleActive: classy.toggleActive,\n  toggleAriaHidden: aria.toggleHidden,\n  toggleAriaExpanded: aria.toggleExpanded,\n  closest: dom.closest,\n  nodeListToArray: dom.nodeListToArray,\n  findElements: dom.findElements,\n  bus: bus,\n  accordion: accordion,\n  dropdown: dropdown,\n  drawers: drawers,\n  expander: expander,\n  filterDropdown: filterDropdown,\n  modal: modal,\n  search: search,\n  selectNav: selectNav,\n  sticky: sticky,\n  tabs: tabs,\n  thirdNav: thirdNav,\n  init\n};\n"],"names":["dom.nodeListToArray","classy.has","add","remove","dom.findElements","event.click","dom.closest","event.target","classy.remove","classy.add","classy.removeActive","event.add","event.throttle","event.remove","event.preventDefault","event.stopPropagation","classy.toggle","classy.addActive","classy.toggleActive","aria.toggleHidden","aria.toggleExpanded","drawers"],"mappings":"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"}